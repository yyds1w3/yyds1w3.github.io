<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Cpp瞎写 | travel</title><meta name="author" content="qingw"><meta name="copyright" content="qingw"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="鉴于写博客有助于自己的学习,于是博主将自己所学的c++总结了一下  总体知识 总述 基础知识分为: 变量类型–&gt;基础语法–&gt;函数–&gt;类–&gt;库(细说stl)–&gt;多线程(进程)–&gt;堆栈–&gt;模板 工程目录 我的工程目录–&gt;有助于分类 1234567Projects&#x2F;Project_1├── bin --&gt; 放exe文件├── build --&amp;gt">
<meta property="og:type" content="article">
<meta property="og:title" content="Cpp瞎写">
<meta property="og:url" content="http://qingw.zxy/2025/02/03/cpp%E7%9E%8E%E5%86%99/index.html">
<meta property="og:site_name" content="travel">
<meta property="og:description" content="鉴于写博客有助于自己的学习,于是博主将自己所学的c++总结了一下  总体知识 总述 基础知识分为: 变量类型–&gt;基础语法–&gt;函数–&gt;类–&gt;库(细说stl)–&gt;多线程(进程)–&gt;堆栈–&gt;模板 工程目录 我的工程目录–&gt;有助于分类 1234567Projects&#x2F;Project_1├── bin --&gt; 放exe文件├── build --&amp;gt">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://qingw.zxy/img/stark_2.jpeg">
<meta property="article:published_time" content="2025-02-03T06:21:22.065Z">
<meta property="article:modified_time" content="2025-03-09T09:10:53.540Z">
<meta property="article:author" content="qingw">
<meta property="article:tag" content="c++">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://qingw.zxy/img/stark_2.jpeg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Cpp瞎写",
  "url": "http://qingw.zxy/2025/02/03/cpp%E7%9E%8E%E5%86%99/",
  "image": "http://qingw.zxy/img/stark_2.jpeg",
  "datePublished": "2025-02-03T06:21:22.065Z",
  "dateModified": "2025-03-09T09:10:53.540Z",
  "author": [
    {
      "@type": "Person",
      "name": "qingw",
      "url": "http://qingw.zxy/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/yuzi.jfif"><link rel="canonical" href="http://qingw.zxy/2025/02/03/cpp%E7%9E%8E%E5%86%99/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')
          
          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-center"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Cpp瞎写',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="travel" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(/img/whxn.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/qingw.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/talk/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/stark_2.jpeg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/Ella.png" alt="Logo"><span class="site-name">travel</span></a><a class="nav-page-title" href="/"><span class="site-name">Cpp瞎写</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/talk/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Cpp瞎写</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-02-03T06:21:22.065Z" title="发表于 2025-02-03 14:21:22">2025-02-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-03-09T09:10:53.540Z" title="更新于 2025-03-09 17:10:53">2025-03-09</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">5.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>21分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a class="disqus-comment-count" href="http://qingw.zxy/2025/02/03/cpp%E7%9E%8E%E5%86%99/#post-comment"><i class="fa-solid fa-spinner fa-spin"></i></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;艾拉提醒您，&quot;,&quot;messageNext&quot;:&quot;天过去了，文章可能已经过时了.......&quot;,&quot;postUpdate&quot;:&quot;2025-03-09 17:10:53&quot;}" hidden></div><blockquote>
<p>鉴于写博客有助于自己的学习,于是博主将自己所学的c++总结了一下</p>
</blockquote>
<h1>总体知识</h1>
<h2 id="总述">总述</h2>
<p>基础知识分为: 变量类型–&gt;基础语法–&gt;函数–&gt;类–&gt;库(细说stl)–&gt;多线程(进程)–&gt;堆栈–&gt;模板</p>
<h2 id="工程目录">工程目录</h2>
<p>我的工程目录–&gt;有助于分类</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Projects/Project_1</span><br><span class="line">├── bin --&gt; 放exe文件</span><br><span class="line">├── build --&gt; 放CMakeLists.txt</span><br><span class="line">├── data --&gt; 放图片等资源</span><br><span class="line">├── include --&gt; 放头文件</span><br><span class="line">├── lib --&gt; 放静态库,动态库</span><br><span class="line">└── src --&gt; 放c++源文件</span><br></pre></td></tr></table></figure>
<blockquote>
<p>另外: 头文件放结构体, 宏定义, 函数声明,类声明, 全局变量…而源文件放函数原型, 类原型.<br>
Thinking: 可以把库底层写成xxx_Base.cpp, 把调用接口写成xxx_API.cpp</p>
</blockquote>
<p><strong>静态库的创建</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ -c <span class="number">1.</span>cpp <span class="number">2.</span>cpp <span class="number">3.</span>cpp</span><br><span class="line">ar rcs libxxx.a <span class="number">1.</span>o <span class="number">2.</span>o <span class="number">3.</span>o</span><br></pre></td></tr></table></figure>
<p><strong>动态库的创建</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// PIC -&gt; Position Independence Code</span></span><br><span class="line">gcc -shared -fPIC -o libxxx.so <span class="number">1.</span>cpp <span class="number">2.</span>cpp <span class="number">3.</span>cpp</span><br></pre></td></tr></table></figure>
<ul>
<li>Tips: 使用g++创建动态库时, 一定要在函数的外部加上<code>extern &quot;C&quot;&#123;函数&#125;</code>, 否则会出现函数符号无法找到.<br>
例:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mylib.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span>&#123;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用dlfcn.h需要导入动态库 -ldl     dl -- dynamic link</span></span><br><span class="line"><span class="comment">// main.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;dlfcn.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 打开共享库</span></span><br><span class="line">    <span class="type">void</span> *handle = <span class="built_in">dlopen</span>(<span class="string">&quot;./libmylib.so&quot;</span>, RTLD_LAZY);</span><br><span class="line">    <span class="keyword">if</span> (!handle) &#123;</span><br><span class="line">        <span class="built_in">fprintf</span>(stderr, <span class="string">&quot;Error loading shared library: %s\n&quot;</span>, <span class="built_in">dlerror</span>());</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 获取函数指针</span></span><br><span class="line">    <span class="built_in">int</span> (*add_func)(<span class="type">int</span>, <span class="type">int</span>) = (<span class="built_in">int</span> (*)(<span class="type">int</span>, <span class="type">int</span>)) <span class="built_in">dlsym</span>(handle, <span class="string">&quot;add&quot;</span>);</span><br><span class="line">    <span class="type">char</span> *error;</span><br><span class="line">    <span class="keyword">if</span> ((error = <span class="built_in">dlerror</span>()) != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">fprintf</span>(stderr, <span class="string">&quot;Error finding symbol: %s\n&quot;</span>, error);</span><br><span class="line">        <span class="built_in">dlclose</span>(handle);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 调用函数</span></span><br><span class="line">    <span class="type">int</span> result = <span class="built_in">add_func</span>(<span class="number">5</span>, <span class="number">7</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Result: %d\n&quot;</span>, result);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. 关闭共享库</span></span><br><span class="line">    <span class="built_in">dlclose</span>(handle);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="g-的使用">g++的使用</h2>
<p><code>g++ main.cpp 1.cpp 2.cpp -o main.exe</code></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-o</code></td>
<td>指定输出文件名</td>
</tr>
<tr>
<td><code>-std=c++17</code></td>
<td>指定标准版本</td>
</tr>
<tr>
<td><code>-g</code></td>
<td>生成调试信息</td>
</tr>
<tr>
<td><code>-O0/-O1/-O2/-O3</code></td>
<td>优化级别</td>
</tr>
<tr>
<td><code>-Wall</code></td>
<td>生成所有警告信息</td>
</tr>
<tr>
<td><code>-S</code></td>
<td>生成汇编.s文件</td>
</tr>
<tr>
<td><code>-c</code></td>
<td>生成.o文件</td>
</tr>
<tr>
<td><code>-E</code></td>
<td>生成预处理.i文件</td>
</tr>
<tr>
<td><code>-I/path/to/include</code></td>
<td>头文件路径</td>
</tr>
<tr>
<td><code>-L/path/to/lib/</code></td>
<td>库路径</td>
</tr>
<tr>
<td><code>-lmylib</code></td>
<td>链接libmylib.a静态库/libmylib.so(dll)的动态库(对库的引用放在命令的结尾)</td>
</tr>
<tr>
<td><code>-DDEBUG</code></td>
<td>相当于添加<code>#define DEBUG</code></td>
</tr>
</tbody>
</table>
<h2 id="变量类型">变量类型</h2>
<blockquote>
<p>区分数据类型的<strong>唯一标准</strong>是内存的<strong>字节</strong>占用,所有的数据都是二进制(01)表示的,不同的数据类型是编译器把二进制数据跟人进行交流的&quot;桥&quot;.</p>
</blockquote>
<ul>
<li>初识变量</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>符号</th>
<th>占用字节</th>
</tr>
</thead>
<tbody>
<tr>
<td>字符</td>
<td>char</td>
<td>1</td>
</tr>
<tr>
<td>布尔值</td>
<td>bool</td>
<td>1</td>
</tr>
<tr>
<td>短整型</td>
<td>short</td>
<td>2</td>
</tr>
<tr>
<td>整型</td>
<td>int</td>
<td>4</td>
</tr>
<tr>
<td>长整型</td>
<td>long</td>
<td>8</td>
</tr>
<tr>
<td>单精度浮点数</td>
<td>float</td>
<td>4</td>
</tr>
<tr>
<td>双精度浮点数</td>
<td>double</td>
<td>8</td>
</tr>
<tr>
<td>指针</td>
<td>类型*</td>
<td>4(32位系统)/8(64位系统)</td>
</tr>
<tr>
<td>联合体</td>
<td>union</td>
<td>与最大的数据类型一样大</td>
</tr>
<tr>
<td>枚举体</td>
<td>enum</td>
<td>1/2/4(通常)</td>
</tr>
<tr>
<td>结构体</td>
<td>struct</td>
<td>有内存补齐操作无法确定</td>
</tr>
</tbody>
</table>
<h3 id="字符">字符</h3>
<ul>
<li><code>'x'</code>使用<code>''</code>包裹的一个字符&lt;–<code>man ascii</code>可以在线查看ascii表</li>
</ul>
<h3 id="整数">整数</h3>
<ul>
<li>有符号整数: 最高位0表示正数,1表示负数<br>
假如int类型来解释100…100,该值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msup><mn>2</mn><mn>31</mn></msup><mo>+</mo><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">-2^{31} + 2^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></li>
<li>无符号整数:</li>
</ul>
<h3 id="浮点数">浮点数</h3>
<p><em>遵循IEEE 754 标准</em></p>
<ul>
<li><strong>float(32)</strong></li>
</ul>
<table>
<thead>
<tr>
<th>部分</th>
<th>符号位</th>
<th>指数位</th>
<th>尾数位</th>
</tr>
</thead>
<tbody>
<tr>
<td>位数</td>
<td>1</td>
<td>8</td>
<td>23</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>double(64)</strong></li>
</ul>
<table>
<thead>
<tr>
<th>部分</th>
<th>符号位</th>
<th>指数位</th>
<th>尾数位</th>
</tr>
</thead>
<tbody>
<tr>
<td>位数</td>
<td>1</td>
<td>11</td>
<td>52</td>
</tr>
</tbody>
</table>
<p>规格化值(Exp不全为0或1)<br>
解释:</p>
<ul>
<li>sign(符号位): 0代表正,1代表负数</li>
<li>Exp(指数位): 实际指数为(Exp - 127(float)/1023(double)),范围是(-126 ~ 127)/(-1022~1023)</li>
<li>Man(尾数位):</li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mi>S</mi><mi>i</mi><mi>g</mi><mi>n</mi></mrow></msup><mtext>  </mtext><mtext>x</mtext><mtext>  </mtext><mn>1.</mn><mi>M</mi><mi>a</mi><mi>n</mi><mtext>  </mtext><mtext>x</mtext><msup><mn>2</mn><mrow><mi>E</mi><mi>x</mi><mi>p</mi><mo>−</mo><mi>B</mi><mi>i</mi><mi>a</mi><mi>s</mi></mrow></msup></mrow><annotation encoding="application/x-tex">Value = (-1)^{Sign} \;\text{x}\; 1.Man \;\text{x} 2^{Exp-Bias}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">x</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">an</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">x</span></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">p</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mord mathnormal mtight">ia</span><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>非规格化值:</p>
<ul>
<li>Exp全为0时: 0值</li>
<li>Exp全为1,尾数全为0时: 无穷大<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord">∞</span></span></span></span></li>
<li>Exp全为1,尾数不全为0时: NaN</li>
</ul>
<h3 id="数组">数组</h3>
<p>须知:</p>
<ol>
<li>数组里可以装任何数据类型</li>
<li>数组实际上是在栈上的一连串的内存,数组名代表这一连串地址的起始地址(小地址&lt;–栈向低地址增长)</li>
<li>数组名不能更改(<s>arr+2</s>)</li>
<li>字符串(字符组成的数组,结尾是0(不是’0’))</li>
<li>数组的长度必须在编译前就知道(不能用变量,而必须用常量const)</li>
<li>指针的加减数字是根据指针指向的数据类型而定的,如<code>(int*)p + 1</code>是地址加4(int是4个长度)</li>
</ol>
<ul>
<li>性能优化:<br>
将多维数组写成一维数组(防止内存碎片)</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a2d = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">5</span>*<span class="number">5</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i&lt; <span class="number">5</span>; i++)&#123; <span class="comment">// i代表行,j代表列</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j&lt;<span class="number">5</span>; j++)</span><br><span class="line">		a2d[j + i*<span class="number">5</span>] = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[] a2</span><br></pre></td></tr></table></figure>
<h3 id="结构体">结构体</h3>
<ul>
<li>用处: 处理多返回值的函数</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">source</span></span><br><span class="line">&#123;</span><br><span class="line">	std::string first;</span><br><span class="line">    std::string second;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">source</span> <span class="built_in">function</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//code</span></span><br><span class="line">    vs = ..</span><br><span class="line">    fs = ..</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">struct</span> source&#123;vs, fs&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>与类的区别: 结构体默认public, 类默认private</li>
</ul>
<blockquote>
<p>Tips: 我们当然学习类啦</p>
</blockquote>
<h3 id="指针">指针</h3>
<p><strong>注意</strong></p>
<ul>
<li>指针需要初始化<code>int* ptr = nullptr</code>(推荐使用nullptr()而非0或者NULL)</li>
<li>通过new创建的(堆)内存块被释放后要将指向内存块的指针赋nullptr防止指针悬空,栈上的指针自动释放</li>
</ul>
<p><strong>优点</strong></p>
<ul>
<li>通过指针可以不用复制大量内存来传递参数,而是可以直接传递指针优化性能</li>
</ul>
<p><strong>智能指针</strong></p>
<ul>
<li><code>#include &lt;memory&gt;</code></li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::unique_ptr&lt;类型&gt;</code></td>
<td>超出作用域自动释放,无法复制,只能移动<code>std::unique&lt;int&gt; p2 = std::move(p1)</code></td>
</tr>
<tr>
<td><code>std::shared_ptr&lt;类型&gt;</code></td>
<td>计数为0自动释放,可以复制</td>
</tr>
<tr>
<td><code>std::weak_ptr&lt;类型&gt;</code></td>
<td>lock()可以转化为shared_ptr来观察值,解决shared_ptr循环引用导致的计数无法归零</td>
</tr>
</tbody>
</table>
<h3 id="枚举体">枚举体</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">COLORS</span> : <span class="type">char</span>&#123; <span class="comment">// 指定枚举体基础类型是char</span></span><br><span class="line">    RED = <span class="string">&#x27;R&#x27;</span>, BLUE = <span class="string">&#x27;B&#x27;</span>, GREEN = <span class="string">&#x27;G&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>enum中的例子会隐式转化,enum class不会隐式转换,从而可以在不同的enum使用同名的名字</p>
</blockquote>
<h3 id="结构体-2">结构体</h3>
<p><strong>内存对齐规则</strong><br>
从第一个开始遇到的最大的哪个数据类型为基础,之后的每个数据的起始位置必须是目前为止最大的数据的整数倍</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">TestStruct</span> &#123;</span><br><span class="line">    <span class="type">short</span> a;  <span class="comment">// 2 bytes</span></span><br><span class="line">    <span class="type">char</span> b;   <span class="comment">// 1 byte</span></span><br><span class="line">    <span class="type">int</span> c;   <span class="comment">// 4 bytes</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>结构体大小是0-&gt;2-&gt;4-&gt;8,大小是8bytes</p>
<h3 id="联合体">联合体</h3>
<p>须知:</p>
<ul>
<li>联合体中的所有成员共享同一块内存空间。联合体的大小等于其最大成员的大小,利用类型双关.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> <span class="title class_">Price</span>&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="type">float</span> b;</span><br><span class="line">&#125;</span><br><span class="line">Price p;</span><br><span class="line">p.a = <span class="number">4</span>;</span><br><span class="line">cout &lt;&lt; p.a &lt;&lt; endl;</span><br><span class="line">p.b = <span class="number">5.9</span>;</span><br><span class="line">cout &lt;&lt; p.b &lt;&lt; endl;</span><br></pre></td></tr></table></figure>
<h2 id="函数">函数</h2>
<h3 id="函数说明符">函数说明符</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span> <span class="keyword">noexcept</span></span>;        <span class="comment">// 函数 f 不会抛出异常</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getValue</span><span class="params">()</span> <span class="type">const</span></span>; <span class="comment">// 承诺getValue() 函数不会修改类的任何成员变量</span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">myFunction</span><span class="params">()</span></span>; <span class="comment">// 表示 myFunction() 函数具有静态存储期</span></span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="type">void</span> <span class="title">anotherFunction</span><span class="params">()</span></span>; <span class="comment">// 声明 anotherFunction() 函数在其他文件中定义</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123; <span class="keyword">return</span> a + b; &#125; <span class="comment">// 建议编译器将 add() 函数内联</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">draw</span><span class="params">()</span></span>; <span class="comment">// 声明 draw() 函数为虚函数</span></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">MyClass</span><span class="params">(<span class="type">int</span> value)</span></span>; <span class="comment">// 禁止将 int 类型隐式转换为 MyClass 类型</span></span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">friendFunction</span><span class="params">(MyClass&amp; obj)</span></span>; <span class="comment">// 声明 friendFunction() 为 MyClass 的友元函数</span></span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="type">int</span> <span class="title">factorial</span><span class="params">(<span class="type">int</span> n)</span> <span class="comment">// 声明 factorial() 函数为常量表达式函数</span></span></span><br></pre></td></tr></table></figure>
<h3 id="函数指针">函数指针</h3>
<p><code>返回类型 (*指针变量名)(参数类型列表);</code><br>
举例</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">int</span> (*add_ptr)(<span class="type">int</span>, <span class="type">int</span>) = add <span class="comment">// 或者&amp;add</span></span><br></pre></td></tr></table></figure>
<p>更灵活的方式</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line">std::function&lt;<span class="type">int</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; add_ptr = add; <span class="comment">//或者&amp;add</span></span><br><span class="line"><span class="type">int</span> res = <span class="built_in">add_ptr</span>(<span class="number">3</span>,<span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<h3 id="lambda函数">lambda函数</h3>
<p>格式</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> f = [](<span class="type">int</span> a, <span class="type">float</span> b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// code</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// []是捕获列表---[=]传值捕获(只读,mutable后可改值)[&amp;]引用捕获[a,&amp;b]混合捕获</span></span><br><span class="line"><span class="comment">// ()是传参列表---()</span></span><br></pre></td></tr></table></figure>
<h3 id="函数重载">函数重载</h3>
<blockquote>
<p>在 C++ 中.如果两个函数名相同.但参数列表(个数、类型或顺序)不同.它们是不同的函数.这是通过函数重载实现的</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">log</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Log</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">log</span><span class="params">(<span class="type">char</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Log</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">log</span>(<span class="string">&#x27;a&#x27;</span>); <span class="comment">// a</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="类">类</h2>
<blockquote>
<p>类是用户自定义的数据类型.包含数据成员(属性)和成员函数(方法)</p>
</blockquote>
<h3 id="基本结构">基本结构</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ClassName</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:     <span class="comment">// 访问修饰符(默认private)</span></span><br><span class="line">  <span class="comment">// 成员函数声明</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">method</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="comment">// 数据成员声明</span></span><br><span class="line">  <span class="type">int</span> data;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="类的可见性">类的可见性</h3>
<table>
<thead>
<tr>
<th style="text-align:center">关键字</th>
<th style="text-align:center">可允许访问的范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">private</td>
<td style="text-align:center">这个类和友类</td>
</tr>
<tr>
<td style="text-align:center">protected</td>
<td style="text-align:center">这个类及子类及友类</td>
</tr>
<tr>
<td style="text-align:center">public</td>
<td style="text-align:center">All</td>
</tr>
</tbody>
</table>
<h3 id="类的特殊函数">类的特殊函数</h3>
<h4 id="构造函数">构造函数</h4>
<ul>
<li><code>ClassName(int val, int dot) : data(val),data2(dot) &#123;&#125;  // 初始化列表</code>—data,data2的顺序要和声明的一样</li>
<li><code>ClassName a(1,2);</code>—利用值构造类</li>
</ul>
<h4 id="析构函数">析构函数</h4>
<ul>
<li><code>~ClassName() &#123; /* 清理资源 */ &#125;</code></li>
</ul>
<h4 id="拷贝构造函数">拷贝构造函数</h4>
<ul>
<li><code>ClassName(const ClassName&amp; other);</code></li>
<li><code>ClassName b = a</code>—利用类构造类</li>
</ul>
<h4 id="拷贝赋值函数">拷贝赋值函数</h4>
<ul>
<li><code>ClassName&amp; operator=(const ClassName&amp; other);</code></li>
<li><code>c = a</code>—类给类赋值</li>
</ul>
<h4 id="移动构造函数">移动构造函数</h4>
<ul>
<li><code>ClassName(ClassName&amp;&amp; other) noexcept;</code></li>
<li><code>ClassName d = std::move(a)</code>—利用类构造类</li>
</ul>
<h4 id="移动赋值函数">移动赋值函数</h4>
<ul>
<li><code>ClassName&amp; operator=(ClassName&amp;&amp; other) noexcept;</code></li>
<li><code>e = std::move(a)</code>—类给类赋值</li>
</ul>
<h4 id="单例">单例</h4>
<blockquote>
<p>删除赋值构造函数,private构造函数</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Singleton</span>(<span class="type">const</span> Singleton &amp;) = <span class="keyword">delete</span>; <span class="comment">// 删除赋值构造函数</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> Singleton &amp;<span class="title">Get</span><span class="params">()</span> <span class="comment">// 调用方法返回单一实例</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">static</span> Singleton s_instance; <span class="comment">// 类属性</span></span><br><span class="line">        <span class="keyword">return</span> s_instance;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span> : <span class="built_in">Singleton</span>() &#123;&#125; <span class="comment">// 不能在外界直接创造实例</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Singleton &amp;instance = Singleton::<span class="built_in">Get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="类的其他特征">类的其他特征</h3>
<h4 id="类的static数据">类的static数据</h4>
<blockquote>
<p>为类的属性而非实例,所有该类的实例共享这一份数据</p>
</blockquote>
<ul>
<li><code>static int val;</code></li>
</ul>
<h4 id="类的static函数">类的static函数</h4>
<blockquote>
<p>static方法只能访问static数据</p>
</blockquote>
<ul>
<li><code>static void printCount() &#123; cout &lt;&lt; count; &#125;</code></li>
</ul>
<h4 id="友元函数">友元函数</h4>
<ul>
<li><code>friend void friendFunction(ClassName obj);</code></li>
</ul>
<h4 id="友元类的声明">友元类的声明</h4>
<ul>
<li><code>friend class ClassName</code></li>
</ul>
<h4 id="运算符重载">运算符重载</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ClassName <span class="keyword">operator</span>+(<span class="type">const</span> ClassName&amp; other) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">ClassName</span>(data + other.data);</span><br><span class="line">&#125;</span><br><span class="line">std::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(std::ostream &amp;stream, <span class="type">const</span> Vector &amp;other) <span class="comment">//重载&lt;&lt;</span></span><br><span class="line">&#123;</span><br><span class="line">    stream &lt;&lt; other.x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; other.y;</span><br><span class="line">    <span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="继承">继承</h4>
<p><code>class Derived : public Base &#123; /* ... */ &#125;;</code></p>
<h4 id="多态">多态</h4>
<blockquote>
<p>虚函数存在于父类,目的是为子类提供函数模板.重写函数存在子类,为子类提供不同的函数</p>
</blockquote>
<h5 id="虚函数">虚函数</h5>
<p><code>virtual void method() &#123; /* 基类实现 */ &#125;</code></p>
<h5 id="纯虚函数">纯虚函数</h5>
<blockquote>
<p>Tips: 包含纯虚函数的类无法实例化<br>
<code>virtual void pureMethod() = 0;</code></p>
</blockquote>
<h5 id="举例">举例</h5>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">printable</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> std::string <span class="title">Getclassname</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 定义一个接口,是所有类的父类,里有纯虚函数Getclassname</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> : <span class="keyword">public</span> printable <span class="comment">// 继承</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">std::string <span class="title">Getclassname</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 重写Getclassname</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">Getclassname</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Player&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 重写Getclassname</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(printable *obj)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; obj-&gt;<span class="built_in">Getclassname</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;<span class="comment">// 传入指针对象来操作其对应的函数(已经override了)</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Entity *e = <span class="keyword">new</span> Entity;</span><br><span class="line">    <span class="built_in">print</span>(e);</span><br><span class="line">    Player *p = <span class="keyword">new</span> Player;</span><br><span class="line">    <span class="built_in">print</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="虚析构函数">虚析构函数</h5>
<blockquote>
<p>当基类的析构函数是虚函数时.通过基类指针删除派生类对象时.会正确调用派生类的析构函数。如果基类的析构函数不是虚函数.则只会调用基类的析构函数.导致派生类的资源泄漏。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Base *poly = <span class="keyword">new</span> <span class="built_in">Diversy</span>(); <span class="comment">//Base是父类, Diversy是派生类</span></span><br><span class="line"><span class="keyword">delete</span> poly;<span class="comment">//若Base,Diversy的析构函数是vitural,那么会正常调用Diversy的析构函数,否则会调用Base的析构函数</span></span><br></pre></td></tr></table></figure>
<h3 id="类的高级特征">类的高级特征</h3>
<h4 id="override">override</h4>
<ul>
<li><code>void mtthod override;</code></li>
</ul>
<h4 id="final">final</h4>
<ul>
<li><code>class ClassName final&#123;&#125;;</code>禁止继承</li>
</ul>
<h4 id="成员初始化列表">成员初始化列表</h4>
<ul>
<li><code>ClassName a&#123;1,2&#125;;</code></li>
</ul>
<h3 id="this">this</h3>
<ul>
<li><code>this</code>代指本实例的指针</li>
</ul>
<h2 id="语法">语法</h2>
<h3 id="运算符">运算符</h3>
<h4 id="算术运算符">算术运算符</h4>
<ul>
<li>[ ] +</li>
<li>[ ] -</li>
<li>[ ] *</li>
<li>[ ] /</li>
<li>[ ] %</li>
<li>[ ] ++ # 注意前后置的区别</li>
<li>[ ] –</li>
</ul>
<h4 id="关系运算符">关系运算符</h4>
<ul>
<li>[ ] ==</li>
<li>[ ] !=</li>
<li>[ ] &gt;</li>
<li>[ ] &lt;</li>
<li>[ ] &gt;=</li>
<li>[ ] &lt;=</li>
</ul>
<h4 id="逻辑运算符">逻辑运算符</h4>
<ul>
<li>[ ] &amp;&amp;</li>
<li>[ ] ||</li>
<li>[ ] ! # 不全为0则为1</li>
</ul>
<h4 id="位运算符">位运算符</h4>
<ul>
<li>[ ] &amp;</li>
<li>[ ] |</li>
<li>[ ] ^ # a^b==0 --&gt; a==b</li>
<li>[ ] ~ # 按位取反</li>
<li>[ ] &lt;&lt; # 一般有符号是算术左移符号逻辑左移</li>
<li>[ ] &gt;&gt;</li>
</ul>
<h4 id="赋值运算符">赋值运算符</h4>
<ul>
<li>[ ] =</li>
<li>[ ] +=</li>
<li>[ ] -=</li>
<li>[ ] *=</li>
<li>[ ] /*</li>
<li>[ ] %=</li>
<li>[ ] &lt;&lt;=</li>
<li>[ ] &gt;&gt;=</li>
<li>[ ] &amp;=</li>
<li>[ ] ^=</li>
<li>[ ] |=</li>
</ul>
<h4 id="其他运算符">其他运算符</h4>
<ul>
<li>[ ] sizeof</li>
<li>[ ] condtion?x:y</li>
<li>[ ] ,</li>
<li>[ ] .</li>
<li>[ ] -&gt;</li>
<li>[ ] cast # int(2.2)</li>
<li>[ ] &amp; # 取地址</li>
<li>[ ] * # 取值</li>
</ul>
<h3 id="条件分支和循环">条件分支和循环</h3>
<h4 id="条件分支">条件分支</h4>
<h5 id="if">if</h5>
<h5 id="if-else">if else</h5>
<h5 id="if-else-if">if else if</h5>
<h5 id="switch-case">switch case</h5>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(var)&#123;  <span class="comment">//var是整型或enum</span></span><br><span class="line">    <span class="keyword">case</span> val1</span><br><span class="line">    <span class="comment">//code</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> val2</span><br><span class="line">    <span class="comment">//code</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> val3</span><br><span class="line">    <span class="comment">//code</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">//code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="循环">循环</h4>
<h5 id="while">while</h5>
<h5 id="do…while">do…while</h5>
<h5 id="for">for</h5>
<h5 id="关键词">关键词</h5>
<ul>
<li>continue</li>
<li>break</li>
<li>return</li>
</ul>
<blockquote>
<p>Tips: 进入循环时最好将结果存储在循环体外的变量,减少内存访问</p>
</blockquote>
<h3 id="修饰符">修饰符</h3>
<h4 id="访问控制修饰符">访问控制修饰符</h4>
<table>
<thead>
<tr>
<th>public</th>
<th>类内外均可</th>
</tr>
</thead>
<tbody>
<tr>
<td>private</td>
<td>类内,友元类可以访问</td>
</tr>
<tr>
<td>protected</td>
<td>类内,友元类和子类可以访问</td>
</tr>
</tbody>
</table>
<h4 id="存储类修饰符">存储类修饰符</h4>
<p><strong>static</strong></p>
<ul>
<li>局部: 只初始化一次</li>
<li>全局/函数: 作用域限定在本文件</li>
<li>类成员: 所有实例共享这个数据</li>
</ul>
<p><strong>extern</strong></p>
<ul>
<li>声明变量/函数已经在其他文件被定义了</li>
</ul>
<p><strong>mutable</strong></p>
<ul>
<li>可以在<code>const</code>成员函数中修改类的成员<br>
eg:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">xx</span>&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="keyword">mutable</span> <span class="type">int</span> b;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">Getx</span><span class="params">(<span class="type">int</span> x)</span> <span class="type">const</span></span>&#123;</span><br><span class="line">        a = <span class="number">2</span>; <span class="comment">// ok</span></span><br><span class="line">        b = <span class="number">3</span>; <span class="comment">// inhabit</span></span><br><span class="line">        <span class="keyword">return</span> m_x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>thread_local</strong><br>
<a target="_blank" rel="noopener" href="https://www.cnblogs.com/bwbfight/p/18025752">详见此处</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">thread_local</span> <span class="type">int</span> g_n = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    g_n++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;id=%d, n=%d\n&quot;</span>, std::this_thread::<span class="built_in">get_id</span>(),g_n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">thread_local</span> <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;id=%d, i=%d\n&quot;</span>, std::this_thread::<span class="built_in">get_id</span>(), i);</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">foo</span>();</span><br><span class="line">    <span class="built_in">foo</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    g_n++; <span class="comment">// n=2</span></span><br><span class="line">    <span class="built_in">f</span>();    <span class="comment">// n=3 主进程</span></span><br><span class="line">    <span class="function">std::thread <span class="title">t1</span><span class="params">(f)</span></span>; <span class="comment">// n=2 进程1</span></span><br><span class="line">    <span class="function">std::thread <span class="title">t2</span><span class="params">(f)</span></span>; <span class="comment">// n=2 进程2</span></span><br><span class="line">    </span><br><span class="line">    t<span class="number">1.</span><span class="built_in">join</span>();</span><br><span class="line">    t<span class="number">2.</span><span class="built_in">join</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">f2</span>(); <span class="comment">// i=0 i=1  主进程</span></span><br><span class="line">    <span class="function">std::thread <span class="title">t4</span><span class="params">(f2)</span></span>; <span class="comment">// i=0 i=1 进程3</span></span><br><span class="line">    <span class="function">std::thread <span class="title">t5</span><span class="params">(f2)</span></span>; <span class="comment">// i=0 i=1 进程4</span></span><br><span class="line"></span><br><span class="line">    t<span class="number">4.</span><span class="built_in">join</span>();</span><br><span class="line">    t<span class="number">5.</span><span class="built_in">join</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="类型限定符">类型限定符</h4>
<p><strong>const</strong></p>
<ul>
<li>const 变量 --&gt; 常量</li>
<li>成员函数 const --&gt;禁止修改成员状态</li>
<li>const int* 指针指向常量;int *const 指针不可变</li>
</ul>
<p><strong>volatile</strong></p>
<ul>
<li>变量可能被外部修改,禁止编译器优化</li>
</ul>
<h4 id="类型修饰符">类型修饰符</h4>
<p><strong>signed/unsigned</strong><br>
<strong>short/long/long long</strong></p>
<h4 id="函数修饰符">函数修饰符</h4>
<p><strong>inline</strong></p>
<ul>
<li>内联函数, 直接将函数体的源代码复制到调用处(适用于函数体小的函数)</li>
</ul>
<p><strong>vitural</strong></p>
<ul>
<li>定义虚函数</li>
</ul>
<p><strong>override</strong></p>
<ul>
<li>重写虚函数</li>
</ul>
<p><strong>final</strong></p>
<ul>
<li>禁止派生类覆盖虚函数, 或者禁止子类</li>
</ul>
<p><strong>constexpr</strong></p>
<ul>
<li>编译时可求出函数的返回值</li>
</ul>
<p><strong>noexcept</strong></p>
<ul>
<li>函数不可抛出异常</li>
</ul>
<p><strong>explict</strong></p>
<ul>
<li>禁止构造函数隐式转换</li>
</ul>
<h3 id="输入输出">输入输出</h3>
<h4 id="cin">cin</h4>
<ul>
<li>cin &gt;&gt; data; // 忽略前导空格,到下一个空白符或换行符或EOF停止读入</li>
<li>cin.getline(); // 丢弃换行符</li>
<li>cin.get();  // 逐个字符读取,不会丢弃空格和换行符</li>
</ul>
<h4 id="文件">文件</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::ofstream Outfile; <span class="comment">// cout 用法基本一样 setf()</span></span><br><span class="line">    Outfile.<span class="built_in">open</span>(filename); <span class="comment">// binding name</span></span><br><span class="line">    fOut &lt;&lt; content;</span><br><span class="line">    Outfile.<span class="built_in">close</span>();</span><br><span class="line">    </span><br><span class="line">    std::ifstream Infile <span class="comment">// cin</span></span><br><span class="line">    Infile.<span class="built_in">open</span>(filename);</span><br><span class="line">    fin &gt;&gt; content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="堆和栈">堆和栈</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://originlee.com/images/blog-runtime_memory_model.png" alt="虚拟内存管理图"></p>
<ol>
<li><strong>栈(Stack)</strong><br>
<strong>特点</strong></li>
</ol>
<ul>
<li>
<p>内存分配方式:由编译器自动分配和释放,遵循“后进先出”(LIFO)原则。</p>
</li>
<li>
<p>存储内容：局部变量、函数参数、函数调用信息(如返回地址)等。</p>
</li>
<li>
<p>内存管理：内存分配和释放由系统<u>自动</u>完成.效率高。</p>
</li>
<li>
<p>大小限制：栈的大小通常较小(如几MB)具体取决于操作系统和编译器设置。</p>
</li>
<li>
<p>访问速度：访问速度快.因为内存分配是<u>连续</u>的。</p>
</li>
<li>
<p>栈向下增长</p>
</li>
</ul>
<p><strong>优点</strong></p>
<ul>
<li>
<p>高效：内存分配和释放由系统自动完成。</p>
</li>
<li>
<p>简单：无需手动管理内存。</p>
</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>
<p>大小受限：栈空间有限.不适合存储大量数据。</p>
</li>
<li>
<p>生命周期固定：变量的生命周期仅限于函数作用域。</p>
</li>
</ul>
<p><strong>栈帧结构</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://originlee.com/images/blog-stack_frame.png" alt=""></p>
<ol>
<li><strong>堆(Heap)</strong><br>
<strong>特点</strong></li>
</ol>
<ul>
<li>
<p>内存分配方式:手动分配和释放(new/delete或者智能指针)。</p>
</li>
<li>
<p>存储内容：存储动态分配的内存(如对象、数组等)。</p>
</li>
<li>
<p>内存管理：需要程序员手动管理.否则可能导致内存泄漏或野指针。</p>
</li>
<li>
<p>大小限制：堆的大小通常较大.受系统可用内存限制。</p>
</li>
<li>
<p>访问速度：访问速度较慢.因为内存分配是动态且不连续的。</p>
</li>
<li>
<p>堆大体上向上增长(但是内存不是连续分配的)</p>
</li>
<li></li>
<li>
<p>假设堆的起始地址为 0x1000,当程序需要分配一块 100 字节的内存时，操作系统可能会分配地址范围为 0x1000 到 0x1064 的内存块。如果程序再次需要分配内存，新分配的内存块的地址将会大于 0x1064。</p>
</li>
</ul>
<h2 id="元编程模板">元编程模板</h2>
<p><code>template</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="type">int</span> N&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Array</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T array[N];</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Get_Size</span><span class="params">()</span> <span class="type">const</span> </span>&#123;<span class="keyword">return</span> N;&#125;</span><br><span class="line">&#125;;</span><br><span class="line">Array&lt;<span class="type">int</span>, <span class="number">5</span>&gt; array;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>泛型设计的理想状态是一个查找算法将可以作用于数组，联表，树，图等各种数据结构之上，变成一个通用的，泛型的算法。</p>
</blockquote>
<h2 id="STL-Standard-Template-Library">STL(Standard Template Library)</h2>
<p><code>#include &lt;bits/stdc++.h&gt;</code></p>
<h3 id="总览">总览</h3>
<ul>
<li>[ ] 基础知识</li>
<li>[ ] 算法(Algorithm)</li>
<li>[ ] 容器(Container)</li>
<li>[ ] 迭代器(Iterator)</li>
<li>[ ] 仿函数(Function Object)</li>
</ul>
<h3 id="基础知识">基础知识</h3>
<h4 id="类型转换">类型转换</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> f = <span class="number">3.14</span>;</span><br><span class="line"><span class="type">int</span> i = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(f);  <span class="comment">// 静态类型转换,类似C,不允许类似int* -&gt;float*</span></span><br><span class="line"></span><br><span class="line">Base *b = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">Derived *d = <span class="built_in">dynamic_cast</span>&lt;Derived*&gt;(b);  <span class="comment">// 动态类型转换,会检查b是不是Derived 类型(提供类型检查),不是就会返回nullptr</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> *p = <span class="built_in">const_cast</span>&lt;<span class="type">int</span>*&gt;(&amp;a);  <span class="comment">// 去掉常量性,不允许跨类型转换，只改变const性</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="type">void</span>* p = <span class="built_in">reinterpret_cast</span>&lt;<span class="type">void</span>*&gt;(&amp;a);  <span class="comment">// 转换指针类型</span></span><br></pre></td></tr></table></figure>
<h3 id="容器">容器</h3>
<h4 id="pair">pair</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="type">int</span>, pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; p = &#123;<span class="number">1</span>, &#123;<span class="number">3</span>,<span class="number">4</span>&#125;&#125;; <span class="comment">// 初始化 </span></span><br><span class="line">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; arr[<span class="number">2</span>] = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">3</span>,<span class="number">4</span>&#125;&#125; <span class="comment">// 初始化数组</span></span><br><span class="line">cout &lt;&lt; p.first &lt;&lt; p.second.first; <span class="comment">// 访问</span></span><br></pre></td></tr></table></figure>
<h4 id="vector">vector</h4>
<p>特征: 自由伸缩(对性能有影响), 存储在堆上</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init</span></span><br><span class="line"><span class="function">vector&lt;类型&gt; <span class="title">v</span><span class="params">([大小],[初始值])</span></span>;</span><br><span class="line"><span class="comment">// add</span></span><br><span class="line">vector.<span class="built_in">emplace_back</span>();</span><br><span class="line"><span class="comment">// pop</span></span><br><span class="line">vector.<span class="built_in">pop_back</span>();</span><br><span class="line"><span class="comment">// return size</span></span><br><span class="line">vector.<span class="built_in">size</span>();</span><br><span class="line"><span class="comment">// resize</span></span><br><span class="line">vector.<span class="built_in">resize</span>(length,initvalue);</span><br><span class="line"><span class="comment">// clear -- erase the entire vector</span></span><br><span class="line">v.<span class="built_in">clear</span>();</span><br><span class="line"><span class="comment">// empty -- to say if the vector is empty</span></span><br><span class="line">cout &lt;&lt; v.<span class="built_in">empty</span>();</span><br><span class="line"><span class="comment">// iterator</span></span><br><span class="line"><span class="keyword">auto</span> it = vector.<span class="built_in">begin</span>(), vector.<span class="built_in">rbegin</span>(), vec.<span class="built_in">end</span>(), vec.<span class="built_in">rend</span>() </span><br><span class="line"><span class="comment">// value at an index</span></span><br><span class="line">vector[index], vector.<span class="built_in">back</span>()</span><br><span class="line"><span class="comment">// erase</span></span><br><span class="line">vector.<span class="built_in">erase</span>(迭代器)</span><br><span class="line">vector.<span class="built_in">erase</span>(v.<span class="built_in">begin</span>()<span class="number">+2</span>, v.<span class="built_in">begin</span>()<span class="number">+4</span>) <span class="comment">// 删除[3,5)</span></span><br><span class="line"><span class="comment">// loop</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> it : v)&#123;</span><br><span class="line">    cout &lt;&lt; it &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)&#123;</span><br><span class="line">    cout &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// insert</span></span><br><span class="line">v.<span class="built_in">insert</span>(迭代器, 值)</span><br><span class="line">v.<span class="built_in">insert</span>(迭代器, 个数, 值)</span><br><span class="line">v.<span class="built_in">insert</span>(迭代器<span class="number">1</span>, 迭代器<span class="number">2</span>, 迭代器<span class="number">3</span>) <span class="comment">// 从迭代器1插入[迭代器2,迭代器3)的值</span></span><br><span class="line"><span class="comment">// swap</span></span><br><span class="line">v<span class="number">1.</span><span class="built_in">swap</span>(v2);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="list">list</h4>
<p>特征: 可以双向插入</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init </span></span><br><span class="line">list&lt;<span class="type">int</span>&gt; ls;</span><br><span class="line"></span><br><span class="line">ls.<span class="built_in">push_back</span>();</span><br><span class="line">ls.<span class="built_in">emplace_back</span>();</span><br><span class="line">ls.<span class="built_in">push_front</span>();</span><br><span class="line">ls.<span class="built_in">emplace_front</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// rest like vector</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="stack">stack</h4>
<p>特征: 单向操作,LIFO(后进先出)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//init</span></span><br><span class="line">stack&lt;<span class="type">int</span>&gt; st;</span><br><span class="line"><span class="comment">// push</span></span><br><span class="line">st.<span class="built_in">push</span>();</span><br><span class="line"><span class="comment">//emplace</span></span><br><span class="line">st.<span class="built_in">emplace</span>();</span><br><span class="line"><span class="comment">// top</span></span><br><span class="line">std::cout &lt;&lt; st.<span class="built_in">top</span>();</span><br><span class="line"><span class="comment">// pop</span></span><br><span class="line">st.<span class="built_in">pop</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// rest like vector</span></span><br></pre></td></tr></table></figure>
<h4 id="queue">queue</h4>
<p>特征: 单向操作. FIFO(先进先出)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init</span></span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"><span class="comment">// push</span></span><br><span class="line">q.<span class="built_in">push</span>();</span><br><span class="line">q.<span class="built_in">emplace</span>()</span><br><span class="line"><span class="comment">// back/front</span></span><br><span class="line">q.<span class="built_in">back</span>();</span><br><span class="line">q.<span class="built_in">front</span>();</span><br><span class="line"><span class="comment">// pop</span></span><br><span class="line">q.<span class="built_in">pop</span>();</span><br></pre></td></tr></table></figure>
<h4 id="priority-queue">priority_queue</h4>
<p>特征：最大值在顶部，其余像queue</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init</span></span><br><span class="line">priority_queue&lt;<span class="type">int</span>&gt; pq; <span class="comment">// &#123;5,4,2,1&#125;</span></span><br><span class="line">priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; pq; <span class="comment">// &#123;1,2,4,5&#125;</span></span><br><span class="line"><span class="comment">// top</span></span><br><span class="line">pq.<span class="built_in">top</span>(); <span class="comment">// 5</span></span><br><span class="line"><span class="comment">// pop</span></span><br><span class="line">pq.<span class="built_in">pop</span>();</span><br><span class="line"><span class="comment">// push</span></span><br><span class="line">pq.<span class="built_in">push</span>();</span><br><span class="line">pq.<span class="built_in">emplace</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="set">set</h4>
<p>特征: 按<u>大小排序</u>记录<u>唯一性</u>元素<br>
时间复杂度: O(lgn)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init</span></span><br><span class="line">set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line"><span class="comment">// insert</span></span><br><span class="line">s.<span class="built_in">insert</span>(<span class="number">1</span>); <span class="comment">// &#123;1&#125;</span></span><br><span class="line">s.<span class="built_in">insert</span>(<span class="number">2</span>); <span class="comment">// &#123;1,2&#125;</span></span><br><span class="line">s.<span class="built_in">insert</span>(<span class="number">2</span>); <span class="comment">// &#123;1,2&#125;</span></span><br><span class="line">s.<span class="built_in">insert</span>(<span class="number">4</span>); <span class="comment">// &#123;1,2,4&#125;</span></span><br><span class="line">s.<span class="built_in">insert</span>(<span class="number">3</span>); <span class="comment">// &#123;1,2,3,4&#125;</span></span><br><span class="line"><span class="comment">// find</span></span><br><span class="line"><span class="keyword">auto</span> it = s.<span class="built_in">find</span>(<span class="number">3</span>);</span><br><span class="line"><span class="comment">// erase</span></span><br><span class="line">s.<span class="built_in">erase</span>(<span class="number">4</span>);s.<span class="built_in">erase</span>(it); <span class="comment">// number or iterator</span></span><br><span class="line">s.<span class="built_in">erase</span>(it1, it2); <span class="comment">// erase [it1, it2)</span></span><br><span class="line"><span class="comment">// count</span></span><br><span class="line">s.<span class="built_in">count</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// lower_bound</span></span><br><span class="line"><span class="keyword">auto</span> it = s.<span class="built_in">lower_bound</span>(<span class="number">2</span>) <span class="comment">// return the first x like 2&lt;=x</span></span><br><span class="line"><span class="keyword">auto</span> it = s.<span class="built_in">upper_bound</span>(<span class="number">2</span>) <span class="comment">// return the first x like 2&gt;=x</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="multiset">multiset</h4>
<p>特征: 按<u>大小排序</u>记录元素</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init</span></span><br><span class="line">multiset&lt;<span class="type">int</span>&gt; ms;</span><br><span class="line"><span class="comment">// insert</span></span><br><span class="line">ms.<span class="built_in">insert</span>(<span class="number">1</span>); <span class="comment">// &#123;1&#125;</span></span><br><span class="line">ms.<span class="built_in">insert</span>(<span class="number">1</span>); <span class="comment">// &#123;1&#125;</span></span><br><span class="line">ms.<span class="built_in">insert</span>(<span class="number">1</span>); <span class="comment">// &#123;1&#125;</span></span><br><span class="line"><span class="comment">// find</span></span><br><span class="line"><span class="keyword">auto</span> it = ms.<span class="built_in">find</span>(<span class="number">1</span>); <span class="comment">// 如果找不到就在ms.end()</span></span><br><span class="line"><span class="comment">// erase single</span></span><br><span class="line">ms.<span class="built_in">erase</span>(it);</span><br><span class="line"><span class="comment">// erase range</span></span><br><span class="line">ms.<span class="built_in">erase</span>(it, it<span class="number">+2</span>);</span><br><span class="line"><span class="comment">// erase all;</span></span><br><span class="line">ms.<span class="built_in">erase</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="unorder-set">unorder_set</h4>
<p>特征: 无序记录<u>唯一性</u>元素</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init</span></span><br><span class="line">unorder_set&lt;<span class="type">int</span>&gt; us;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无upper_bound, lower_bound</span></span><br></pre></td></tr></table></figure>
<h4 id="map">map</h4>
<p>特征 : 以键的大小顺序排序,类似字典(但是字典的类型是任意的)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init</span></span><br><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line"><span class="comment">// get value</span></span><br><span class="line">value = mp[key];</span><br><span class="line"><span class="comment">// get iterator</span></span><br><span class="line"><span class="keyword">auto</span> it = mp.<span class="built_in">find</span>(key);</span><br><span class="line"><span class="comment">// insert/emplace</span></span><br><span class="line">mp.<span class="built_in">insert</span>(&#123;<span class="number">1</span>,<span class="number">2</span>&#125;);</span><br><span class="line">mp.<span class="built_in">emplace</span>(&#123;<span class="number">1</span>,<span class="number">2</span>&#125;);</span><br><span class="line"><span class="comment">// see the every pair in map</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it : mp)&#123;</span><br><span class="line">    cout &lt;&lt; it.first &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; it.second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="multimap">multimap</h4>
<p>特征: 类似map(但是可以存储多个键)</p>
<h4 id="unordered-map">unordered_map</h4>
<p>特征: 不会按照键的大小排序</p>
<h3 id="算法">算法</h3>
<h4 id="sort">sort</h4>
<p>快速排序<br>
<code>sort(it_begin, it_end(), cmp)</code></p>
<blockquote>
<p>默认是升序, <code>greater&lt;int&gt;</code>是降序<br>
cmp返回结果为真, 上一个元素在前(即排序正确不需要重排)</p>
</blockquote>
<h4 id="builtin-popcount">__builtin_popcount</h4>
<ul>
<li>计算二进制位数</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> bits = __builtin_popcout(<span class="type">int</span> x);</span><br><span class="line"><span class="type">int</span> bits = __builtin_popcoutl(<span class="type">long</span> x);</span><br><span class="line"><span class="type">int</span> bits = __builtin_popcoutll(<span class="type">long</span> <span class="type">long</span> x);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="next-permutation">next_permutation</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">string s = <span class="string">&quot;123&quot;</span></span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">&#125;<span class="keyword">while</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>());</span><br><span class="line"><span class="comment">// 123, 132, 213, 231, 312, 321</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="max-element">max_element</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> maxi = *<span class="built_in">max_element</span>(it_begin, it_end);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="reverse">reverse</h4>
<p><code>reverse(arr.begin(), arr.end()</code>反转元素</p>
<h4 id="gcd-lcm">gcd/lcm</h4>
<p><code>gcd(int a, int b)</code>最大公倍数<br>
<code>lcm(int a, int b)</code>最小公因数</p>
<h4 id="向上取整-向下取整">向上取整, 向下取整</h4>
<p><code>a/b</code> --&gt; floor<br>
<code>a/b + 1</code> --&gt; ceil</p>
<h4 id="快速幂">快速幂</h4>
<blockquote>
<p>利用位运算</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">quickpow</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (b &gt; <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (b &amp; <span class="number">1</span>) res *= a;</span><br><span class="line">    a *= a;</span><br><span class="line">    b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://qingw.zxy">qingw</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://qingw.zxy/2025/02/03/cpp%E7%9E%8E%E5%86%99/">http://qingw.zxy/2025/02/03/cpp%E7%9E%8E%E5%86%99/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://qingw.zxy" target="_blank">travel</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/c/">c++</a></div><div class="post-share"><div class="social-share" data-image="/img/stark_2.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>么么哒~~</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/qingw.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">qingw</div><div class="author-info-description">a~ba~a~ba~~</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yyds1w3"><i class="fab fa-github"></i><span>-&gt;_&lt;-</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/yyds1w3" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">在自恋的路上已经没有对手了......</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">总体知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">总述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E7%A8%8B%E7%9B%AE%E5%BD%95"><span class="toc-number">1.2.</span> <span class="toc-text">工程目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#g-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">g++的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.</span> <span class="toc-text">变量类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6"><span class="toc-number">1.4.1.</span> <span class="toc-text">字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E6%95%B0"><span class="toc-number">1.4.2.</span> <span class="toc-text">整数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="toc-number">1.4.3.</span> <span class="toc-text">浮点数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.4.4.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">1.4.5.</span> <span class="toc-text">结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-number">1.4.6.</span> <span class="toc-text">指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E4%BD%93"><span class="toc-number">1.4.7.</span> <span class="toc-text">枚举体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93-2"><span class="toc-number">1.4.8.</span> <span class="toc-text">结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%94%E5%90%88%E4%BD%93"><span class="toc-number">1.4.9.</span> <span class="toc-text">联合体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%AF%B4%E6%98%8E%E7%AC%A6"><span class="toc-number">1.5.1.</span> <span class="toc-text">函数说明符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88"><span class="toc-number">1.5.2.</span> <span class="toc-text">函数指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lambda%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.3.</span> <span class="toc-text">lambda函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="toc-number">1.5.4.</span> <span class="toc-text">函数重载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">1.6.</span> <span class="toc-text">类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.1.</span> <span class="toc-text">基本结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%8F%AF%E8%A7%81%E6%80%A7"><span class="toc-number">1.6.2.</span> <span class="toc-text">类的可见性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%89%B9%E6%AE%8A%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.3.</span> <span class="toc-text">类的特殊函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">构造函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">析构函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.3.3.</span> <span class="toc-text">拷贝构造函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.3.4.</span> <span class="toc-text">拷贝赋值函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.3.5.</span> <span class="toc-text">移动构造函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E8%B5%8B%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.3.6.</span> <span class="toc-text">移动赋值函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B"><span class="toc-number">1.6.3.7.</span> <span class="toc-text">单例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%85%B6%E4%BB%96%E7%89%B9%E5%BE%81"><span class="toc-number">1.6.4.</span> <span class="toc-text">类的其他特征</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84static%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">类的static数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84static%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">类的static函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.4.3.</span> <span class="toc-text">友元函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8B%E5%85%83%E7%B1%BB%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="toc-number">1.6.4.4.</span> <span class="toc-text">友元类的声明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-number">1.6.4.5.</span> <span class="toc-text">运算符重载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">1.6.4.6.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">1.6.4.7.</span> <span class="toc-text">多态</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.4.7.1.</span> <span class="toc-text">虚函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.4.7.2.</span> <span class="toc-text">纯虚函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BE%E4%BE%8B"><span class="toc-number">1.6.4.7.3.</span> <span class="toc-text">举例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.4.7.4.</span> <span class="toc-text">虚析构函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E9%AB%98%E7%BA%A7%E7%89%B9%E5%BE%81"><span class="toc-number">1.6.5.</span> <span class="toc-text">类的高级特征</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#override"><span class="toc-number">1.6.5.1.</span> <span class="toc-text">override</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#final"><span class="toc-number">1.6.5.2.</span> <span class="toc-text">final</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8"><span class="toc-number">1.6.5.3.</span> <span class="toc-text">成员初始化列表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#this"><span class="toc-number">1.6.6.</span> <span class="toc-text">this</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">1.7.</span> <span class="toc-text">语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.1.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">关系运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.1.3.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.1.4.</span> <span class="toc-text">位运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.1.5.</span> <span class="toc-text">赋值运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.7.1.6.</span> <span class="toc-text">其他运算符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF%E5%92%8C%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.7.2.</span> <span class="toc-text">条件分支和循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">条件分支</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#if"><span class="toc-number">1.7.2.1.1.</span> <span class="toc-text">if</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#if-else"><span class="toc-number">1.7.2.1.2.</span> <span class="toc-text">if else</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#if-else-if"><span class="toc-number">1.7.2.1.3.</span> <span class="toc-text">if else if</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#switch-case"><span class="toc-number">1.7.2.1.4.</span> <span class="toc-text">switch case</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.7.2.2.</span> <span class="toc-text">循环</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#while"><span class="toc-number">1.7.2.2.1.</span> <span class="toc-text">while</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#do%E2%80%A6while"><span class="toc-number">1.7.2.2.2.</span> <span class="toc-text">do…while</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for"><span class="toc-number">1.7.2.2.3.</span> <span class="toc-text">for</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E8%AF%8D"><span class="toc-number">1.7.2.2.4.</span> <span class="toc-text">关键词</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.7.3.</span> <span class="toc-text">修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.7.3.1.</span> <span class="toc-text">访问控制修饰符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E7%B1%BB%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.7.3.2.</span> <span class="toc-text">存储类修饰符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E9%99%90%E5%AE%9A%E7%AC%A6"><span class="toc-number">1.7.3.3.</span> <span class="toc-text">类型限定符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.7.3.4.</span> <span class="toc-text">类型修饰符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.7.3.5.</span> <span class="toc-text">函数修饰符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">1.7.4.</span> <span class="toc-text">输入输出</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#cin"><span class="toc-number">1.7.4.1.</span> <span class="toc-text">cin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6"><span class="toc-number">1.7.4.2.</span> <span class="toc-text">文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E5%92%8C%E6%A0%88"><span class="toc-number">1.8.</span> <span class="toc-text">堆和栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%BC%96%E7%A8%8B%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.9.</span> <span class="toc-text">元编程模板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STL-Standard-Template-Library"><span class="toc-number">1.10.</span> <span class="toc-text">STL(Standard Template Library)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E8%A7%88"><span class="toc-number">1.10.1.</span> <span class="toc-text">总览</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.10.2.</span> <span class="toc-text">基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.10.2.1.</span> <span class="toc-text">类型转换</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8"><span class="toc-number">1.10.3.</span> <span class="toc-text">容器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#pair"><span class="toc-number">1.10.3.1.</span> <span class="toc-text">pair</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vector"><span class="toc-number">1.10.3.2.</span> <span class="toc-text">vector</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#list"><span class="toc-number">1.10.3.3.</span> <span class="toc-text">list</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#stack"><span class="toc-number">1.10.3.4.</span> <span class="toc-text">stack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#queue"><span class="toc-number">1.10.3.5.</span> <span class="toc-text">queue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#priority-queue"><span class="toc-number">1.10.3.6.</span> <span class="toc-text">priority_queue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set"><span class="toc-number">1.10.3.7.</span> <span class="toc-text">set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#multiset"><span class="toc-number">1.10.3.8.</span> <span class="toc-text">multiset</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unorder-set"><span class="toc-number">1.10.3.9.</span> <span class="toc-text">unorder_set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#map"><span class="toc-number">1.10.3.10.</span> <span class="toc-text">map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#multimap"><span class="toc-number">1.10.3.11.</span> <span class="toc-text">multimap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unordered-map"><span class="toc-number">1.10.3.12.</span> <span class="toc-text">unordered_map</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95"><span class="toc-number">1.10.4.</span> <span class="toc-text">算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sort"><span class="toc-number">1.10.4.1.</span> <span class="toc-text">sort</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#builtin-popcount"><span class="toc-number">1.10.4.2.</span> <span class="toc-text">__builtin_popcount</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#next-permutation"><span class="toc-number">1.10.4.3.</span> <span class="toc-text">next_permutation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#max-element"><span class="toc-number">1.10.4.4.</span> <span class="toc-text">max_element</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reverse"><span class="toc-number">1.10.4.5.</span> <span class="toc-text">reverse</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#gcd-lcm"><span class="toc-number">1.10.4.6.</span> <span class="toc-text">gcd&#x2F;lcm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%91%E4%B8%8A%E5%8F%96%E6%95%B4-%E5%90%91%E4%B8%8B%E5%8F%96%E6%95%B4"><span class="toc-number">1.10.4.7.</span> <span class="toc-text">向上取整, 向下取整</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%B9%82"><span class="toc-number">1.10.4.8.</span> <span class="toc-text">快速幂</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/03/08/python%E5%BA%93/" title="Python库"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/stark_1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python库"/></a><div class="content"><a class="title" href="/2025/03/08/python%E5%BA%93/" title="Python库">Python库</a><time datetime="2025-03-08T05:36:50.171Z" title="发表于 2025-03-08 13:36:50">2025-03-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/28/stm32/" title="Stm32"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/fll_2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Stm32"/></a><div class="content"><a class="title" href="/2025/02/28/stm32/" title="Stm32">Stm32</a><time datetime="2025-02-28T09:45:49.147Z" title="发表于 2025-02-28 17:45:49">2025-02-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/09/CSAPP%E7%AC%94%E8%AE%B0/" title="CSAPP笔记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/stark_2.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CSAPP笔记"/></a><div class="content"><a class="title" href="/2025/02/09/CSAPP%E7%AC%94%E8%AE%B0/" title="CSAPP笔记">CSAPP笔记</a><time datetime="2025-02-09T08:40:01.548Z" title="发表于 2025-02-09 16:40:01">2025-02-09</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2025 By qingw</div><div class="footer_custom_text">I wish we can be our own sun.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const abcjsInit = () => {
    const abcjsFn = () => setTimeout(() => {
      document.querySelectorAll(".abc-music-sheet").forEach(ele => {
        if (ele.children.length > 0) return
        ABCJS.renderAbc(ele, ele.innerHTML, {responsive: 'resize'})
      })
    }, 100)
    
    typeof ABCJS === 'object' ? abcjsFn()
      : btf.getScript('https://cdn.jsdelivr.net/npm/abcjs/dist/abcjs-basic-min.min.js').then(abcjsFn)
  }

  window.pjax ? abcjsInit() : window.addEventListener('load', abcjsInit)
  btf.addGlobalFn('encrypt', abcjsInit, 'abcjs')
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'

  const disqusReset = conf => {
    window.DISQUS && window.DISQUS.reset({
      reload: true,
      config: conf
    })
  }

  const loadDisqus = (el, path) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyDisqus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    window.disqus_identifier = isShuoshuo ? path : '/2025/02/03/cpp%E7%9E%8E%E5%86%99/'
    window.disqus_url = isShuoshuo ? location.origin + path : 'http://qingw.zxy/2025/02/03/cpp%E7%9E%8E%E5%86%99/'

    const disqus_config = function () {
      this.page.url = disqus_url
      this.page.identifier = disqus_identifier
      this.page.title = 'Cpp瞎写'
    }

    if (window.DISQUS) disqusReset(disqus_config)
    else {
      const script = document.createElement('script')
      script.src = 'https://qingw-1.disqus.com/embed.js'
      script.setAttribute('data-timestamp', +new Date())
      document.head.appendChild(script)
    }

    btf.addGlobalFn('themeChange', () => disqusReset(disqus_config), 'disqus')
  }

  const getCount = async() => {
    try {
      const eleGroup = document.querySelector('#post-meta .disqus-comment-count')
      if (!eleGroup) return
      const cleanedLinks = eleGroup.href.replace(/#post-comment$/, '')

      const res = await fetch(`https://disqus.com/api/3.0/threads/set.json?forum=qingw-1&api_key=&thread:link=${cleanedLinks}`,{
        method: 'GET'
      })
      const result = await res.json()

      const count = result.response.length ? result.response[0].posts : 0
      eleGroup.textContent = count
    } catch (err) {
      console.error(err)
    }
  }

  if (isShuoshuo) {
    'Disqus' === 'Disqus'
      ? window.shuoshuoComment = { loadComment: loadDisqus }
      : window.loadOtherComment = loadDisqus
    return
  }

  if ('Disqus' === 'Disqus' || !false) {
    if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
    else {
      loadDisqus()
      GLOBAL_CONFIG_SITE.pageType === 'post' && getCount()
    }
  } else {
    window.loadOtherComment = loadDisqus
  }
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z" data-fontsize="50px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>